(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["comments"],{3498:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"mb-12"},[n("v-dialog",{attrs:{persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"primary",fab:"",fixed:"",bottom:"",right:""}},"v-btn",o,!1),a),[n("v-icon",[t._v("mdi-plus")])],1)]}}]),model:{value:t.commentDialog,callback:function(e){t.commentDialog=e},expression:"commentDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("新留言")])]),n("v-card-text",[n("v-container",[n("v-textarea",{attrs:{label:"内容",placeholder:"阿巴阿巴~",rows:"4",dense:"","hide-details":"",outlined:"","auto-grow":""},model:{value:t.commentContent,callback:function(e){t.commentContent=e},expression:"commentContent"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:function(e){return t.submitComment()}}},[t._v("确定")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.commentDialog=!1}}},[t._v("取消")])],1)],1)],1),this.$route.query.animeName?n("h2",{staticClass:"mb-2"},[n("a",{attrs:{href:t.getDetailUrl(t.animeId)}},[t._v(t._s(this.$route.query.animeName))])]):t._e(),n("v-list",[t._l(t.commentList,(function(e,a){return[0!=a?n("v-divider",{key:"d-"+a}):t._e(),n("a-topic",{key:a,attrs:{topic:e,showTopic:!1}})]}))],2),n("to-top-fab",{attrs:{bottom:!1}})],1)},o=[],i=n("5530"),c=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("498a"),n("2f62")),r=n("5634"),s=n("bb75"),m=n("3e17"),l=n("7c15"),u={components:{ATopic:s["a"],ToTopFab:m["a"]},data:function(){return{commentDialog:!1,commentContent:"",commentList:[],total:0,page:1}},methods:{getDetailUrl:function(t){return new URL(t,this.ageDetailUrl)},getAnimeComments:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(l["c"])(this.animeId,e).then((function(e){t.commentList=e.articles}))},toDate:function(t){return Object(r["a"])(t)},toggleReplies:function(t){this.show[t]=!this.show[t]},submitComment:function(){var t=this;this.commentContent.trim().length>0?Object(l["b"])(this.commentContent,this.animeId).then((function(e){t.$store.dispatch("message/success","留言成功"),t.commentDialog=!1,Object(r["b"])(e),t.$router.go()})):this.$store.dispatch("message/error","留言内容不能为空")},changePage:function(t){this.getAnimeComments(t)}},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])({ageDetailUrl:"config/ageDetailUrl"})),{},{animeId:function(){return this.$route.params.animeId}}),created:function(){this.getAnimeComments()}},d=u,b=n("2877"),h=n("6544"),v=n.n(h),f=n("8336"),g=n("b0af"),p=n("99d9"),C=n("a523"),D=n("169a"),_=n("ce7e"),w=n("132d"),V=n("8860"),k=n("2fa4"),x=n("a844"),j=Object(b["a"])(d,a,o,!1,null,null,null);e["default"]=j.exports;v()(j,{VBtn:f["a"],VCard:g["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VContainer:C["a"],VDialog:D["a"],VDivider:_["a"],VIcon:w["a"],VList:V["a"],VSpacer:k["a"],VTextarea:x["a"]})}}]);
//# sourceMappingURL=comments.00343979.js.map