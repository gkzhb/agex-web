(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["comments"],{3498:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"mb-12"},[a("v-dialog",{attrs:{persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary",fab:"",fixed:"",bottom:"",right:""}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-plus")])],1)]}}]),model:{value:t.commentDialog,callback:function(e){t.commentDialog=e},expression:"commentDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("新留言")])]),a("v-card-text",[a("v-container",[a("v-textarea",{attrs:{label:"内容",placeholder:"阿巴阿巴~",rows:"4",dense:"","hide-details":"",outlined:"","auto-grow":""},model:{value:t.commentContent,callback:function(e){t.commentContent=e},expression:"commentContent"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:function(e){return t.submitComment()}}},[t._v("确定")]),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.commentDialog=!1}}},[t._v("取消")])],1)],1)],1),this.$route.query.animeName?a("h2",{staticClass:"mb-2 d-flex"},[a("a",{attrs:{href:t.getDetailUrl(t.animeId),target:"_blank"}},[t._v(t._s(this.$route.query.animeName))]),a("a",{staticClass:"text-subtitle-2 ml-auto align-self-end",attrs:{href:t.bangumiSearchUrl,target:"_blank"}},[t._v("bangumi评论")])]):t._e(),a("v-list",[t._l(t.commentList,(function(e,n){return[0!=n?a("v-divider",{key:"d-"+n}):t._e(),a("a-topic",{key:n,attrs:{topic:e,showTopic:!1}})]})),0===t.commentList.length?a("v-list-item",[a("div",{staticClass:"text--disabled empty-comment"},[t._v(" 暂无留言 ")])]):t._e()],2),a("to-top-fab",{attrs:{bottom:!1}})],1)},i=[],o=a("5530"),c=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("498a"),a("99af"),a("2f62")),r=a("5634"),s=a("bb75"),m=a("3e17"),l=a("7c15"),u=a("60fe"),d={components:{ATopic:s["a"],ToTopFab:m["a"]},data:function(){return{commentDialog:!1,commentContent:"",commentList:[],total:0,page:1}},methods:{getDetailUrl:function(t){return new URL(t,this.ageDetailUrl)},getAnimeComments:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(l["c"])(this.animeId,e).then((function(e){t.commentList=e.articles}))},toDate:function(t){return Object(r["a"])(t)},toggleReplies:function(t){this.show[t]=!this.show[t]},submitComment:function(){var t=this;this.commentContent.trim().length>0?Object(l["b"])(this.commentContent,this.animeId).then((function(e){t.$store.dispatch("message/success","留言成功"),t.commentDialog=!1,Object(r["c"])(e),t.$router.go()})):this.$store.dispatch("message/error","留言内容不能为空")},changePage:function(t){this.getAnimeComments(t)}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])({ageDetailUrl:"config/ageDetailUrl"})),{},{animeId:function(){return this.$route.params.animeId},bangumiSearchUrl:function(){var t=new URL("".concat(u["c"]).concat(this.$route.query.animeName),u["d"]);return t.searchParams.append("cat",2),t}}),created:function(){this.getAnimeComments()}},b=d,f=(a("3939"),a("2877")),h=a("6544"),g=a.n(h),v=a("8336"),p=a("b0af"),C=a("99d9"),_=a("a523"),D=a("169a"),k=a("ce7e"),w=a("132d"),x=a("8860"),V=a("da13"),y=a("2fa4"),U=a("a844"),j=Object(f["a"])(b,n,i,!1,null,"82be801a",null);e["default"]=j.exports;g()(j,{VBtn:v["a"],VCard:p["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VContainer:_["a"],VDialog:D["a"],VDivider:k["a"],VIcon:w["a"],VList:x["a"],VListItem:V["a"],VSpacer:y["a"],VTextarea:U["a"]})},3939:function(t,e,a){"use strict";a("fb29")},fb29:function(t,e,a){}}]);
//# sourceMappingURL=comments.0a9e0e08.js.map